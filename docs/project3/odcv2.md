---
sidebar_position: 1002
---
# ODC v2

ODCv2 протокол был очень похож на текущий ODCv3,
но был более урезан в своём функционале.

Так же в ODCv2 не обладал качественной документацией,
только 
README.md
файл в PoC проекте.

В отличие от ODCv1 было разработано
более качественное Android приложение

*TODO картинка с двумя интерфейсами и 
ссылки на GitHub commit-ы старого и нового интерфейсов.*


ODCv2 алгоритм передачи банкноты
уже использовал (`banknote_id`,`counter`) пару,
вместо `otok`/`otkp` ключей, как это было в
[ODCv1](odcv1.md)
протоколе.

## Отличие алгоритма от ODCv3

Здесь и далее отличия от 
[алгоритма в ODCv3](banknote/broadcast/algorithm.md)

ODCv2 протокол не 
поддерживал режим сдачи банкнот.

Так же деньги в ODCv2 передавались
последовательно одна за другой, 
а не все вместе.

:::note[Замечание]
Поэтому в протоколе ODCv2
в случае обрыва канала могла создаться

ситуация, когда часть денег передано, 
а часть нет.

В ODCv3 такой проблемы нет.
Сразу все передаваемые банкноты
меняют владельцаа от **отправителя**
к **получателю** 
в момент последовательного вызова 
функции 
[transfer_banknote](functions/transfer-banknote.md)
для каждой банкноты.

А уже потом они передаются по каналу.

В случае обрыва канала, 
**отпраавитель** должен заного установить 
канал (ведь он уже потерял свои деньги!),
либо выйти в сеть и передать их по сети.

В рамках ODCv3 протокола невозможно, чтобы
**отправитель** обманул получателя,
искусственно оборвав канал передачи данных.
Что было возможно в ODCv2.

:::


В рамках ODCv2 никак не обсуждалась
[Архитектура взаимодействий.](architecture/index.md)
Она была, конечно, но на уровне "интуитивно-очевидном".

В рамках ODCv2 отсутствовали
`mpk`/`mok` ключи.
Ключи `bpk`/`bok` глобальны и несменяемы.

Цель ODCv2 -- это проработка изящного
решения offline платежей, 
без использования `otok`/`otkp` ключей.

С этой, академической, целью, протокол ODCv2 успешно справился.

Для государственного и\или частного применения ODCv2,
разумеется, не подходит.

Однако это замечательный протокол для изучения цифровых наличных
с технической точки зрения.

ODCv2 может быть рекомендован для образовательных целей.

## Документация

Смотри тут: https://github.com/kib-sources/odc-doc/releases/tag/v2.0.0


## Исходники

TODO описать